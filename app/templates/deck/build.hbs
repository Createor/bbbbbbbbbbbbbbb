<div {{bind-attr class=":row :row-offcanvas :row-offcanvas-left filtersActive:active"}}>
  <div class="col-sm-3 col-lg-1 sidebar-offcanvas" id="sidebar">
    <strong>Card types</strong>
    <div class="checkbox">
      <label>
        {{input type="checkbox"}}
        Sorcery
      </label>
    </div>
  </div>
  <div class="col-sm-12 col-lg-11">
    <div class="col-sm-5">
      <button {{action "toggle" "filtersActive"}} class="btn btn-primary sm-display">Toggle Filters</button>
      <table class="table table-striped table-bordered table-condensed">
        <thead>
          <tr>
            <td class="col-sm-3">Name</td>
            <td class="col-sm-3">Set</td>
            <td class="col-sm-1">Mana</td>
            <td class="col-sm-4">Card Type</td>
            <td class="col-sm-1">P/T</td>
          </tr>
        </thead>
        <tbody>
          {{#each card in controllers.cards.displayCards}}
            <tr {{action "showCard" card}}>
              <td class="col-sm-3">{{card.name}}</td>
              <td class="col-sm-3">{{card.recentSet}}</td>
              <td class="col-sm-1">{{card.manaCostFormatted}}</td>
              <td class="col-sm-4">{{card.type}}</td>
              <td class="col-sm-1">{{card.powerToughnessFormatted}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-sm-2">
      {{outlet "card"}}
    </div>
    <div class="col-sm-5">
      <form class="form-horizontal">
        <div class="form-group">
          <label for="deck-name" class="col-sm-2 control-label">Deck name</label>
          <div class="col-sm-10">
            <input class="form-control" id="deck-name"></input>
          </div>
        </div>
        <div class="form-group">
          <label for="deck-comments" class="col-sm-2 control-label">Comments</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="deck-comments" rows="3"></textarea>
          </div>
        </div>
      </form>

      {{#if cards.length}}
        <div class="table-responsive">
          <table class="table table-condensed">
            <thead>
              <tr>
                <th class="col-sm-3">Number</th>
                <th class="col-sm-9">Card</th>
              </tr>
            </thead>
            <tbody>
              {{!-- Main Deck --}}
              {{#x-tr class="info" action="toggle" param="mainDeckExpanded"}}
                <td>
                  <span>{{cards.length}}</span>
                  <i {{bind-attr class=":fa mainDeckExpanded:fa-caret-down:fa-caret-up"}}></i>
                </td>
                <td><strong>Maindeck</strong></td>
              {{/x-tr}}
              {{#if mainDeckExpanded}}

                {{!-- Instants --}}
                {{#if numMainDeckInstants}}
                  {{#x-tr class="success" action="toggle" param="mainDeckInstantsExpanded"}}
                    <td>
                      <span class="indent indent-1">{{numMainDeckInstants}}</span>
                      <i {{bind-attr class=":indent :indent-1 :fa mainDeckInstantsExpanded:fa-caret-down:fa-caret-up"}}></i>
                    </td>
                    <td><strong>Instants</strong></td>
                  {{/x-tr}}
                  {{#if mainDeckInstantsExpanded}}
                    {{#each cardObj in mainDeckInstants}}
                      {{#x-tr action="showCard" param=cardObj.card}}
                        <td><span class="indent indent-2">{{cardObj.count}}</span></td>
                        <td class="cursor-pointer">{{cardObj.name}}</td>
                      {{/x-tr}}
                    {{/each}}
                  {{/if}}
                {{/if}}

                {{!-- Creatures --}}

                {{!-- Artifacts --}}

                {{!-- Sorceries --}}

                {{!-- Enchantments --}}

                {{!-- Lands --}}
              {{/if}}
            </tbody>
          </table>
        </div>
      {{/if}}
    </div>
  </div>
</div>